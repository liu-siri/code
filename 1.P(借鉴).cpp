#include<bits/stdc++.h>
using namespace std;
typedef struct st ak;
const int N=1e+4+10;//??1<n<100,??1<m<100*(100-1)/2==4950;???1?(??) 
int pre[N]={0};//????? 
struct st{
	int v1,v2,w;
	st()
	{
		v1=v2=w=0;
	}
}s[N];
int n;
int find(int x)
{//??? 
	int t=x;
	while(pre[t]!=t)
	{
		t=pre[t];
	}
	return t;//???? 
}
int cmp(ak a,ak b)
{//sort???? 
	return a.w<b.w;
}
int main()
{
	int num=0,sum=0;
	while(cin>>n&&n!=0)
	{
		num=0;
		sum=0;
		for(int i=1;i<=n;i++)
		pre[i]=i;
		
		int m=n*(n-1)/2;
		for(int i=1;i<=m;i++)
		{
			int t1,t2;
			int x,y,z,f;
			cin>>x>>y>>z>>f;
			if(f==1)//1????????? 
			{//??????? 
				t1=find(x);//?x??? 
				t2=find(y);//?y??? 
				pre[y]=t1;//y?x????????? 
				pre[t2]=t1;//y????x?????????
				//x?x????y?y???????????(???) 
			}
			else//0????????,??? 
			{// 
				s[num].v1=x,s[num].v2=y,s[num].w=z;
				num++;
			}	
		}
		sort(s,s+num,cmp);//????????? 
		for(int i=0;i<num;i++)//???????? 
		{//??? ?????,???????????????(???)? 
			int t1,t2,x,y;
			x=s[i].v1,y=s[i].v2;
			t1=find(x);
			t2=find(y);
			if(t1!=t2)
			{
				pre[y]=t1;
				pre[t2]=t1;
				sum+=s[i].w;
			}
		}
		cout<<sum<<endl;
	}
	return 0;
}
